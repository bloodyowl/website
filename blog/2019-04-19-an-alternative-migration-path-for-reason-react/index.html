<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="google-site-verification"
      content="w75-P-0ywXWkyZvYPbkSM3VSM2hny25UrfeiWJt3B1k"
    />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <meta
      name="description"
      content="Front-end developer and designer. ReasonML, ReasonReact, ReactJS."
    />
    <meta name="twitter:card" content="summary_large_image">
    <meta property="og:type" content="website">
    <meta property="og:image" content="https://bloodyowl.io/public/assets/images/share.jpg">
    <meta name="twitter:image" content="https://bloodyowl.io/public/assets/images/share.jpg">
    <meta name="twitter:site" content="@bloodyowl">
    <meta property="og:image:width" content="1500">
    <meta property="og:image:height" content="777">
    <link rel="shortcut icon" href="/public/assets/images/favicon.png" />
    <title>An alternative migration path for ReasonReact | @bloodyowl</title><meta property="og:title" content="An alternative migration path for ReasonReact | @bloodyowl" />
  </head>
  <body>
    <div id="root"><style data-emotion-css="189z874 gu50q 1sk4geg 12as1jd inii90 kk4a7b 16cj527 1moa3kc 18av5pk 1jtjujg j1f6xt a7hgs6 1h80fpx saz23d 2o7l8j bgur92 gghbgz 18z74vx 1qdfdal">pre{padding:10px 20px;background-color:#F4F7F8;overflow-x:auto;-webkit-overflow-scrolling:touch;font-size:14px;}code{font-family:PragmataPro,SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,monospace;line-height:1;}.hljs-keyword{color:#DA6BB5;}.hljs-constructor{color:#DD792B;}.hljs-identifier{color:#1E9EA7;}.hljs-module-identifier{color:#C84682;}.hljs-string{color:#3BA1C8;}.hljs-comment{color:#aaa;}.hljs-operator{color:#DA6BB5;}.hljs-attribute{color:#4CB877;}table{width:100%;text-align:center;}table thead th{background-color:#E4EBEE;padding:10px 0;}blockquote{opacity:0.6;border-left:4px solid #46515B;margin:0;padding:0 20px;}@font-face{font-family:Madera;src:url("/public/assets/webfonts/madera.ttf");font-style:normal;font-weight:400;font-display:swap;}@font-face{font-family:Madera;src:url("/public/assets/webfonts/madera-bold.ttf");font-style:normal;font-weight:700;font-display:swap;}body{padding:0;margin:0;background-color:#fff;font-family:Madera,"Helvetica Neue",Helvetica,Arial,sans-serif;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;min-height:100vh;overflow-x:hidden;}#root{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}html{color:#46515B;font-size:1em;line-height:1.4;-webkit-font-smoothing:antialiased;-webkit-text-size-adjust:100%;}*,*:before,*:after{box-sizing:border-box;}</style><style data-emotion-css="1lm8k0f">.css-1lm8k0f{min-height:100vh;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:stretch;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;}</style><div class="css-1lm8k0f" data-reactroot=""><style data-emotion-css="14wlb7f">.css-14wlb7f{background-color:#E4EBEE;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:stretch;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}@media (max-width:620px){.css-14wlb7f{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}}</style><div class="css-14wlb7f"><style data-emotion-css="48zunz">.css-48zunz{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:stretch;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;color:#46515B;-webkit-text-decoration:none;text-decoration:none;}</style><a href="/" class="css-48zunz"><style data-emotion-css="19jaiin">.css-19jaiin{margin-right:10px;margin-left:20px;-webkit-align-self:center;-ms-flex-item-align:center;align-self:center;}</style><img class="css-19jaiin" alt="" height="32" src="/public/assets/images/owl.svg" width="32"/><style data-emotion-css="16ucz1n">.css-16ucz1n{padding:20px 20px 23px 0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}</style><div aria-level="1" class="css-16ucz1n" role="heading"><style data-emotion-css="x6blf3">.css-x6blf3{font-weight:700;margin-right:10px;white-space:nowrap;}</style><div class="css-x6blf3">Matthias Le Brun</div><div>@bloodyowl</div></div></a><style data-emotion-css="7nltf6">.css-7nltf6{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}@media (max-width:620px){.css-7nltf6{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;background-color:#D4E1E6;}}</style><div class="css-7nltf6"><style data-emotion-css="143gsgu">.css-143gsgu{padding:20px 20px 23px;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;-webkit-text-decoration:none;text-decoration:none;color:#46515B;text-align:center;font-weight:700;}@media (max-width:620px){.css-143gsgu{-webkit-flex-basis:33.333%;-ms-flex-preferred-size:33.333%;flex-basis:33.333%;padding:10px 20px 13px;}}</style><a href="/blog/" class="css-143gsgu">Blog</a><style data-emotion-css="1o16z30">.css-1o16z30{padding:20px 20px 23px;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;-webkit-text-decoration:none;text-decoration:none;color:#46515B;text-align:center;}@media (max-width:620px){.css-1o16z30{-webkit-flex-basis:33.333%;-ms-flex-preferred-size:33.333%;flex-basis:33.333%;padding:10px 20px 13px;}}</style><a href="https://twitter.com/bloodyowl" class="css-1o16z30">Twitter</a><a href="https://github.com/bloodyowl" class="css-1o16z30">GitHub</a></div></div><style data-emotion-css="12z655i">.css-12z655i{max-width:600px;padding:0 10px;margin:20px auto;width:100%;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}</style><div class="css-12z655i"><style data-emotion-css="1lz15hj">.css-1lz15hj{margin:0;margin-bottom:10px;}</style><h1 class="css-1lz15hj">An alternative migration path for ReasonReact</h1><style data-emotion-css="v7jbmu">.css-v7jbmu{font-size:14px;opacity:0.5;}</style><div class="css-v7jbmu">2019/04/19</div><style data-emotion-css="b2zag1">.css-b2zag1{margin-top:40px;font-size:18px;}.css-b2zag1 a{color:#135EFF;}.css-b2zag1 a:hover{color:#13A3FF;}</style><div class="css-b2zag1"><p><a href="https://github.com/bloodyowl/upgrade-reason-react-esy">tl;dr</a></p>
<h2>Why the new API?</h2>
<p>ReasonReact 0.7.0 came out recently, with a really nice set of features:</p>
<ul>
<li>A closer model from the official ReactJS API</li>
<li>Hooks</li>
<li>Zero-cost bindings</li>
</ul>
<p>From some time now though, ReasonReact leverages function <strong>named parameters</strong> which provides a really nice set of features natively, such as defaults, optional parameters and ability to pattern match values.</p>
<p>This was possible through a JSX transformation and some bindings that would apply these arguments at call site, and return a new version of the component whenever called.</p>
<p>A component would look like this:</p>
<pre><code class="language-reason"><span class="hljs-comment">/* MyComp.re */</span>
<span class="hljs-keyword">let</span> make = (~param1, ~param2, children) =&gt; {
  <span class="hljs-operator">...</span>component,
  render: _ =&gt; &lt;div /&gt;
};
</code></pre>
<p>And the call site <code>&lt;MyComp param1 param2 /&gt;</code> would desugar to something like this:</p>
<pre><code class="language-reason"><span class="hljs-module-identifier">React</span>.element(~key, ~ref, <span class="hljs-module-identifier">MyComp</span>.make(~param1, ~param2, <span class="hljs-literal">[|</span><span class="hljs-literal">|]</span> <span class="hljs-comment">/* children*/</span>))
</code></pre>
<p>and would reuse the previous component through some magic in <code>React.element</code>, by keeping a reference to an actual React component class that'd render using the component spec it received.</p>
<p>This magic worked while relying on the class-based API, because it wouldn't matter that the <code>make</code> function had a different identity at each run, as <code>React.createElement</code> effectively received class.</p>
<p>With function component though, the story is a little different: <strong>function identity matters</strong> here. It'd be possible to wrap every component with a higher order one, but that wouldn't make for a good developer experience, and would possibly be a little heavier to run.</p>
<p>The obvious choice would then be to start using directly the JS Object as props, just like in ReactJS. However, that wouldn't let us benefit from the really nice features function params give us (defaults, optionals, pattern matching…).</p>
<p>Therefore was introduced the <code>[@react.component]</code> attribute. What it does in summary:</p>
<pre><code class="language-reason"><span class="hljs-attribute">[@react.component]</span>
<span class="hljs-keyword">let</span> make = (~prop1, ~prop2, ()) =&gt; {
  &lt;div /&gt;
};
</code></pre>
<p>is that it leverages <code>[@bs.obj]</code> (zero-cost except in edge-cases) and roughly generates the following:</p>
<pre><code class="language-reason"><span class="hljs-keyword">let</span> makeProps: (~prop1, ~prop2, unit) =&gt;
  {. <span class="hljs-string">"prop1"</span>: 'a, <span class="hljs-string">"prop2"</span>: 'b};

<span class="hljs-keyword">let</span> make: ({. <span class="hljs-string">"prop1"</span>: 'a, <span class="hljs-string">"prop2"</span>: 'b}) =&gt;
  <span class="hljs-module-identifier">React</span>.element;
</code></pre>
<p>This way, the new JSX API can simply desugar to:</p>
<pre><code class="language-reason"><span class="hljs-module-identifier">React</span>.createElement(<span class="hljs-module-identifier">MyComp</span>.make, <span class="hljs-module-identifier">MyComp</span>.makeProps(~prop1, ~prop2, ()));
</code></pre>
<p>which is, thanks to BuckleScript, compiled to:</p>
<pre><code class="language-js">React.createElement(MyComp.make, { <span class="hljs-attr">prop1</span>: prop1, <span class="hljs-attr">prop2</span>: prop2 });
</code></pre>
<h2>Planning the migration</h2>
<p>Of course, changing the way JSX works must have been a tough call for the ReasonReact team, as the API has been pretty stable for some time before that, but I'm sure the benefits in the long run will be really important.</p>
<p>Now, how do we handle the transition?</p>
<p>The original plan <a href="https://twitter.com/rickyvetter">Ricky Vetter</a> had was to create a hook that'd wrap the old component specs and act as a compatibility API. In the end, he assessed that this way wouldn't be able to provide a script that'd be safe enough for people to use and provided a different kind of migration path.</p>
<p>I really found the idea to be elegant though, and if I ever released it and it was a bit rough around the edges, people wouldn't be as mad as they would've been with an official migration.</p>
<p>So I went on from Ricky's work, patched a few things and made <a href="https://github.com/bloodyowl/reason-react-compat">reason-react-compat</a>. The main concept is that it replicates the lifecycle using hooks. It has of course some small issues, such as retriggering a render each time you send a side-effect and might be a little aggressive on <code>willReceiveProps</code> (treat it as it was <code>getDerivedStateFromProps</code>). Other than that it should mostly work, and these are tradeoffs I'm personnaly willing to make for my own codebase.</p>
<p>After having that, I wanted to make an automated codemod, and ended up with the following list of what it needed to do (lots of points here are motivated by how my internal codebase is made):</p>
<ul>
<li>Add <code>[@react.component]</code> to <code>make</code> functions returning a <code>component</code> in implementation</li>
<li>Wrap these components with <code>ReactCompat.useRecordApi</code></li>
<li>Turn ignored <code>children</code> (starting with <code>_</code>) to <code>unit</code> in implementation</li>
<li>Turn used <code>children</code> into a named parameter and append a <code>unit</code> parameter in implementation</li>
<li>Use <code>React.Children.toArray</code> at the top of every make function's body that use them as such (children type isn't guaranteed to be <code>array(React.element)</code> anymore)</li>
<li>Add <code>[@react.component]</code> to <code>make</code> functions returning a <code>component</code> in interfaces</li>
<li>Turn <code>array(React.element)</code> into <code>React.element</code> for children in interfaces</li>
<li>Turn <code>React.component(a, b, c)</code> and <code>React.componentSpec(a, a, b, b, c, c)</code> into <code>React.element</code> in interfaces' <code>make</code> return value</li>
<li>Handle all of the above for nested modules and functors</li>
</ul>
<p>So I forked Cheng Lou's <a href="https://github.com/chenglou/upgrade-reason-react">upgrade-reason-react</a> and started working with the AST (it's really fun, you should try it!) and ended up with a decent transformation (at least for my test cases). If you're interested, <a href="https://github.com/bloodyowl/upgrade-reason-react-esy">the above transformation script is available on GitHub</a>, you can check the input in <code>test/cases</code> and output in <code>output/test/cases</code>.</p>
<p>While I was at it, I also released a <code>useReducer</code> hook that allows returning an update (<code>NoUpdate</code>, <code>Update</code>, <code>UpdateWithSideEffects</code> or <code>SideEffects</code>) because I find that to be <a href="/blog/2019-01-24-orchestrating-requests-at-component-level/">one of the best way to orchestrate things in your components</a>, you can check it out in <a href="https://github.com/bloodyowl/reason-react-update">its repository</a>.</p>
<p>If you want to try these, be sure to ping me in Twitter, Discord or GitHub if you run into any issue!</p>
</div><style data-emotion-css="sq4ju6">.css-sq4ju6{padding:10px 0;}</style><div class="css-sq4ju6"><div class="BeOpWidget"></div></div></div><style data-emotion-css="18aspvx">.css-18aspvx{background-color:#46515B;color:#fff;text-align:center;padding:20px;font-size:14px;}</style><div class="css-18aspvx">Copyright 2020 - Matthias Le Brun</div></div></div><script id="data">window.initialData = {"posts":{"key":"2019-04-19-an-alternative-migration-path-for-reason-react","value":[[{"title":"An alternative migration path for ReasonReact","date":"2019-04-19T00:00:00.000Z","body":"\u003cp>\u003ca href=\"https://github.com/bloodyowl/upgrade-reason-react-esy\">tl;dr\u003c/a>\u003c/p>\n\u003ch2>Why the new API?\u003c/h2>\n\u003cp>ReasonReact 0.7.0 came out recently, with a really nice set of features:\u003c/p>\n\u003cul>\n\u003cli>A closer model from the official ReactJS API\u003c/li>\n\u003cli>Hooks\u003c/li>\n\u003cli>Zero-cost bindings\u003c/li>\n\u003c/ul>\n\u003cp>From some time now though, ReasonReact leverages function \u003cstrong>named parameters\u003c/strong> which provides a really nice set of features natively, such as defaults, optional parameters and ability to pattern match values.\u003c/p>\n\u003cp>This was possible through a JSX transformation and some bindings that would apply these arguments at call site, and return a new version of the component whenever called.\u003c/p>\n\u003cp>A component would look like this:\u003c/p>\n\u003cpre>\u003ccode class=\"language-reason\">\u003cspan class=\"hljs-comment\">/* MyComp.re */\u003c/span>\n\u003cspan class=\"hljs-keyword\">let\u003c/span> make = (~param1, ~param2, children) =&gt; {\n  \u003cspan class=\"hljs-operator\">...\u003c/span>component,\n  render: _ =&gt; &lt;div /&gt;\n};\n\u003c/code>\u003c/pre>\n\u003cp>And the call site \u003ccode>&lt;MyComp param1 param2 /&gt;\u003c/code> would desugar to something like this:\u003c/p>\n\u003cpre>\u003ccode class=\"language-reason\">\u003cspan class=\"hljs-module-identifier\">React\u003c/span>.element(~key, ~ref, \u003cspan class=\"hljs-module-identifier\">MyComp\u003c/span>.make(~param1, ~param2, \u003cspan class=\"hljs-literal\">[|\u003c/span>\u003cspan class=\"hljs-literal\">|]\u003c/span> \u003cspan class=\"hljs-comment\">/* children*/\u003c/span>))\n\u003c/code>\u003c/pre>\n\u003cp>and would reuse the previous component through some magic in \u003ccode>React.element\u003c/code>, by keeping a reference to an actual React component class that'd render using the component spec it received.\u003c/p>\n\u003cp>This magic worked while relying on the class-based API, because it wouldn't matter that the \u003ccode>make\u003c/code> function had a different identity at each run, as \u003ccode>React.createElement\u003c/code> effectively received class.\u003c/p>\n\u003cp>With function component though, the story is a little different: \u003cstrong>function identity matters\u003c/strong> here. It'd be possible to wrap every component with a higher order one, but that wouldn't make for a good developer experience, and would possibly be a little heavier to run.\u003c/p>\n\u003cp>The obvious choice would then be to start using directly the JS Object as props, just like in ReactJS. However, that wouldn't let us benefit from the really nice features function params give us (defaults, optionals, pattern matching…).\u003c/p>\n\u003cp>Therefore was introduced the \u003ccode>[@react.component]\u003c/code> attribute. What it does in summary:\u003c/p>\n\u003cpre>\u003ccode class=\"language-reason\">\u003cspan class=\"hljs-attribute\">[@react.component]\u003c/span>\n\u003cspan class=\"hljs-keyword\">let\u003c/span> make = (~prop1, ~prop2, ()) =&gt; {\n  &lt;div /&gt;\n};\n\u003c/code>\u003c/pre>\n\u003cp>is that it leverages \u003ccode>[@bs.obj]\u003c/code> (zero-cost except in edge-cases) and roughly generates the following:\u003c/p>\n\u003cpre>\u003ccode class=\"language-reason\">\u003cspan class=\"hljs-keyword\">let\u003c/span> makeProps: (~prop1, ~prop2, unit) =&gt;\n  {. \u003cspan class=\"hljs-string\">\"prop1\"\u003c/span>: 'a, \u003cspan class=\"hljs-string\">\"prop2\"\u003c/span>: 'b};\n\n\u003cspan class=\"hljs-keyword\">let\u003c/span> make: ({. \u003cspan class=\"hljs-string\">\"prop1\"\u003c/span>: 'a, \u003cspan class=\"hljs-string\">\"prop2\"\u003c/span>: 'b}) =&gt;\n  \u003cspan class=\"hljs-module-identifier\">React\u003c/span>.element;\n\u003c/code>\u003c/pre>\n\u003cp>This way, the new JSX API can simply desugar to:\u003c/p>\n\u003cpre>\u003ccode class=\"language-reason\">\u003cspan class=\"hljs-module-identifier\">React\u003c/span>.createElement(\u003cspan class=\"hljs-module-identifier\">MyComp\u003c/span>.make, \u003cspan class=\"hljs-module-identifier\">MyComp\u003c/span>.makeProps(~prop1, ~prop2, ()));\n\u003c/code>\u003c/pre>\n\u003cp>which is, thanks to BuckleScript, compiled to:\u003c/p>\n\u003cpre>\u003ccode class=\"language-js\">React.createElement(MyComp.make, { \u003cspan class=\"hljs-attr\">prop1\u003c/span>: prop1, \u003cspan class=\"hljs-attr\">prop2\u003c/span>: prop2 });\n\u003c/code>\u003c/pre>\n\u003ch2>Planning the migration\u003c/h2>\n\u003cp>Of course, changing the way JSX works must have been a tough call for the ReasonReact team, as the API has been pretty stable for some time before that, but I'm sure the benefits in the long run will be really important.\u003c/p>\n\u003cp>Now, how do we handle the transition?\u003c/p>\n\u003cp>The original plan \u003ca href=\"https://twitter.com/rickyvetter\">Ricky Vetter\u003c/a> had was to create a hook that'd wrap the old component specs and act as a compatibility API. In the end, he assessed that this way wouldn't be able to provide a script that'd be safe enough for people to use and provided a different kind of migration path.\u003c/p>\n\u003cp>I really found the idea to be elegant though, and if I ever released it and it was a bit rough around the edges, people wouldn't be as mad as they would've been with an official migration.\u003c/p>\n\u003cp>So I went on from Ricky's work, patched a few things and made \u003ca href=\"https://github.com/bloodyowl/reason-react-compat\">reason-react-compat\u003c/a>. The main concept is that it replicates the lifecycle using hooks. It has of course some small issues, such as retriggering a render each time you send a side-effect and might be a little aggressive on \u003ccode>willReceiveProps\u003c/code> (treat it as it was \u003ccode>getDerivedStateFromProps\u003c/code>). Other than that it should mostly work, and these are tradeoffs I'm personnaly willing to make for my own codebase.\u003c/p>\n\u003cp>After having that, I wanted to make an automated codemod, and ended up with the following list of what it needed to do (lots of points here are motivated by how my internal codebase is made):\u003c/p>\n\u003cul>\n\u003cli>Add \u003ccode>[@react.component]\u003c/code> to \u003ccode>make\u003c/code> functions returning a \u003ccode>component\u003c/code> in implementation\u003c/li>\n\u003cli>Wrap these components with \u003ccode>ReactCompat.useRecordApi\u003c/code>\u003c/li>\n\u003cli>Turn ignored \u003ccode>children\u003c/code> (starting with \u003ccode>_\u003c/code>) to \u003ccode>unit\u003c/code> in implementation\u003c/li>\n\u003cli>Turn used \u003ccode>children\u003c/code> into a named parameter and append a \u003ccode>unit\u003c/code> parameter in implementation\u003c/li>\n\u003cli>Use \u003ccode>React.Children.toArray\u003c/code> at the top of every make function's body that use them as such (children type isn't guaranteed to be \u003ccode>array(React.element)\u003c/code> anymore)\u003c/li>\n\u003cli>Add \u003ccode>[@react.component]\u003c/code> to \u003ccode>make\u003c/code> functions returning a \u003ccode>component\u003c/code> in interfaces\u003c/li>\n\u003cli>Turn \u003ccode>array(React.element)\u003c/code> into \u003ccode>React.element\u003c/code> for children in interfaces\u003c/li>\n\u003cli>Turn \u003ccode>React.component(a, b, c)\u003c/code> and \u003ccode>React.componentSpec(a, a, b, b, c, c)\u003c/code> into \u003ccode>React.element\u003c/code> in interfaces' \u003ccode>make\u003c/code> return value\u003c/li>\n\u003cli>Handle all of the above for nested modules and functors\u003c/li>\n\u003c/ul>\n\u003cp>So I forked Cheng Lou's \u003ca href=\"https://github.com/chenglou/upgrade-reason-react\">upgrade-reason-react\u003c/a> and started working with the AST (it's really fun, you should try it!) and ended up with a decent transformation (at least for my test cases). If you're interested, \u003ca href=\"https://github.com/bloodyowl/upgrade-reason-react-esy\">the above transformation script is available on GitHub\u003c/a>, you can check the input in \u003ccode>test/cases\u003c/code> and output in \u003ccode>output/test/cases\u003c/code>.\u003c/p>\n\u003cp>While I was at it, I also released a \u003ccode>useReducer\u003c/code> hook that allows returning an update (\u003ccode>NoUpdate\u003c/code>, \u003ccode>Update\u003c/code>, \u003ccode>UpdateWithSideEffects\u003c/code> or \u003ccode>SideEffects\u003c/code>) because I find that to be \u003ca href=\"/blog/2019-01-24-orchestrating-requests-at-component-level/\">one of the best way to orchestrate things in your components\u003c/a>, you can check it out in \u003ca href=\"https://github.com/bloodyowl/reason-react-update\">its repository\u003c/a>.\u003c/p>\n\u003cp>If you want to try these, be sure to ping me in Twitter, Discord or GitHub if you run into any issue!\u003c/p>\n"}]],"height":1},"postList":0}</script>
    <script>
      window.beOpAsyncInit = function() {
        BeOpSDK.init({
          account: "556e1d2772a6b60100844051"
        });
        BeOpSDK.watch();
      };
    </script>
    <script defer src="https://widget.beop.io/sdk.js"></script>
  <script type="text/javascript" src="/app.0a687bdec21d50f8084a.js" defer></script></body>
</html>
